{% extends 'dashboard/base.html' %}
{% load crispy_forms_tags %}
{% block content %}
<!-- Highlights current page and removes highlighting from previous -->
<script>
    var storage = document.getElementById("storage");
    storage.classList.add('active');                  
    storage.setAttribute("aria-current", "page");
    
    var home = document.getElementById("home");
    home.classList.remove('active');
    home.setAttribute("aria-current","none");
</script>

<script>
    function CopyToClipboard(id) {
        var r = document.createRange();
        r.selectNode(document.getElementById(id));
        window.getSelection().removeAllRanges();
        window.getSelection().addRange(r);
        document.execCommand('copy');
        window.getSelection().removeAllRanges();
    }
</script>
<script type="text/javascript" class="init">
$(document).ready(function () {
    var data = $storage_data ;
    $('#storage_data').DataTable();
});
</script>
<form method="GET" action="{% url 'storage' %}">
    <div class="container">
        <div class="row">
          {% crispy form %}
        
        </div>
    <!-- Submit button, 'submit' used to check if form is submitted -->
    <input type="submit" name="submit" value="Filter"/>
    <input type="submit" name="clear" value="Reset"/>
    </div>
</form>

<div id="container_data" align="center" style="padding-top: 50px;">
<script>
       Highcharts.chart('container_data', {{ storage_data|safe }});
</script>
<div class="card border-light mt-5 mb-5 p-3 bg-light table-responsive">
    <div class="card-body bg-white">
        <h4>Total size of unique files in DNAnexus today:</h4>
        <!--  Report details section -->
        <p>
        <ul>
            <li> Live: {{ live_total }} GiB</li>
            <li> Archived: {{ archived_total }} GiB</li>
        </ul>
        </p>
    </div>
</div> 

</div>
{% endblock content %}